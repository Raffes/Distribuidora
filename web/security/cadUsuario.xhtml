<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <meta http-equiv="dark-hive" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="/css/cadUsuarioCSS.css"/>
    </h:head>
    <h:body class="body_cadastro">
        <!--=================================================CADASTRO DO USUARIO========================================================-->
        
        <h:form>
                <div class="div_cadastro">
                    <p>Cadastro</p>
                </div>
                
                <div class="div_cadConteudo">
                    
                    <h:panelGrid columns="1" id="matchGrid" cellpadding="5">
                        <p:outputLabel class="textoCad" value="Nome*"/>
                        <p:inputText label="nome" maxlength="30" id="nome" value="#{bean.usu.nome}" required="true" requiredMessage="Por favor, inserir o nome."/>
                        <h:message class="msgValidacaoCad" for="nome"/>

                        <p:outputLabel class="textoCad" value="Email*"/>
                        <p:inputText id="email" label="email" maxlength="50" required="true" requiredMessage="Por favor, inserir o email."
                                     validatorMessage="Formato de email invalido" value="#{bean.usu.email}">
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                        </p:inputText>
                        <h:message class="msgValidacaoCad" for="email"/>

                        <p:outputLabel class="textoCad" value="Data de Nascimento*"/>
                        <p:inputMask id="data" value="#{bean.usu.dataNascimento}" mask="99/99/9999" required="true" requiredMessage="Por favor, inserir a data."/>
                        <h:message class="msgValidacaoCad" for="data"/>


                        <h:outputLabel class="textoCad" value="Senha*" />
                        <p:password label="senha" id="pwd1" value="#{bean.usu.senha}" match="pwd2" feedback="true" promptLabel="Por favor, digitar senha" 
                                    required="true" requiredMessage="Por favor, inserir senha." validatorMessage="A senha deve ter no minimo 6 dígitos">
                            <f:validateLength minimum="6" />
                        </p:password>
                        <h:message class="msgValidacaoCad" for="pwd1"/>

                        <h:outputLabel class="textoCad" value="Confirmação da senha*" />
                        <p:password id="pwd2" value="#{bean.usu.senha}" label="senha" 
                                    required="true" requiredMessage="Por favor, inserir senha." feedback="true" promptLabel="Por favor, digitar senha"
                                     validatorMessage="A senha deve ter no minimo 6 dígitos">
                            <f:validateLength minimum="6" />
                        </p:password>
                        <h:message class="msgValidacaoCad" for="pwd2"/>    
                        
                        <p:link class="log" outcome="login.xhtml" value="Já tem cadastro? Login"/>

                        <p:commandButton value="Salvar" action="#{bean.addUsuario()}"  update="matchGrid"/>

                    </h:panelGrid>
                </div>   
               
                
                <!--oncomplete="PF('validarCadastro').show()"/>-->
            
         
        
        <!--==========================================FIM DO CADASTRO DO USUARIO========================================================-->
        
        <!--====================================================VALIDAR CADASTRO========================================================-->
        
        <p:dialog widgetVar="validarCadastro" resizable="false" style="min-width: 300px">
                
              
            <h:message for="nome"/><br></br>
            <h:message for="email"/><br></br>
            <h:message for="date"/><br></br>
            
                 
                     
        </p:dialog> 
        
        <!--=============================================FIM DO VALIDAR CADASTRO========================================================-->
        </h:form>
    </h:body>
</html>

